<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Web Socket Example</title>
    <meta charset="UTF-8">
    <script>
      window.onload = function() {
        var s = new WebSocket("ws://localhost:9876/");
        var data = [];
        s.onmessage = function(e) {
          var parts = e.data.split(' ');
          var x = parseFloat(parts[0]), y = parseFloat(parts[1]);
          data.push([x,y]);
          $.plot( $("#holder"),
                  [ { data: data } ],
                  {
                    series: {
                      lines: { show: true, fill: true },
                      points: { show: true },
                    },
                    xaxis: { min: 0, max: 10 },
                    yaxis: { min: 0, max: 10 },
                  } );
        };
      };
    </script>
  </head>
    <body>
      <div id="holder" style="width:600px; height:300px"></div>
    </body>
</html>
